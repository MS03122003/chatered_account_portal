{% extends "base.html" %}
{% block title %}Employee List{% endblock %}

{% block content %}
<style>
  .card { background: #fff; border-radius: 13px; box-shadow: 0 6px 20px rgba(0,0,0,0.07); }
  table { width: 100%; background: white; border-radius: 7px; overflow: hidden; }
  th, td { padding: 0.85rem 1.2rem; }
  th { background: #f5f6fa; }
  tr:nth-child(even) { background: #f8f9fe; }
  .btn-add { background: #5e72e4; color:white; font-weight:600; border-radius:7px; padding: 0.5rem 1.5rem;}
  .btn-add:hover { background: #324cdd; }
</style>

<div class="container mt-5 mb-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Employee List</h2>
    <a href="{% url 'add_employee' %}" class="btn btn-add">
      <i class="fas fa-plus"></i> Add Employee
    </a>
  </div>

  <div class="card p-4">
    {% if employees %}
      <div class="table-responsive">
        <table class="table align-middle">
          <thead>
  <tr>
    <th>#</th>
    <th>Employee ID</th>
    <th>Name</th>
    <th>Phone</th>
    <th>Email</th>
    <th>Address</th>
    <th>Edit</th>      <!-- New column -->
    <th>Delete</th>    <!-- New column -->
  </tr>
</thead>
<tbody>
  {% for employee in employees %}
  <tr>
    <td>{{ forloop.counter }}</td>
    <td>{{ employee.employee_id }}</td>
    <td>{{ employee.employee_name }}</td>
    <td>{{ employee.phone_number }}</td>
    <td>{{ employee.email }}</td>
    <td>{{ employee.address|linebreaksbr }}</td>

    <!-- Edit button -->
    <td>
      <a href="{% url 'edit_employee' employee.id %}" class="btn btn-sm btn-primary">
        <i class="fas fa-edit"></i> Edit
      </a>
    </td>

    <!-- Delete button (use a form with POST for safety) -->
    <td>
      <form action="{% url 'delete_employee' employee.id %}" method="post" onsubmit="return confirm('Are you sure you want to delete this employee?');" style="display:inline;">
        {% csrf_token %}
        <button type="submit" class="btn btn-sm btn-danger">
          <i class="fas fa-trash-alt"></i> Delete
        </button>
      </form>
    </td>
  </tr>
  {% endfor %}
</tbody>
        </table>
      </div>
    {% else %}
      <div class="text-center py-4">
        No employees found.
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
